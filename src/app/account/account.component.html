<div class="container pt-md-3">
  <div class="bg-white rounded p-2 px-4" id="account-card">
    <div class="row justify-content-between mt-2 mt-md-3 mr-3" id="account-header">
      <h3 class="col-auto align-self-center">Account</h3>
      <button (click)="update()" class="col-auto btn bg-primary text-white font-weight-bold px-4 py-2 align-self-center"
              id="btnUpdate">Update Account
      </button>
    </div>
    <hr>
    <form [formGroup]="accountForm">
      <div class="form-group mt-4 mb-2">
        <label for="InputDisplayName">Display Name</label>
        <input [(ngModel)]="displayName" aria-describedby="emailHelp" class="form-control" formControlName="displayname"
               id="InputDisplayName" type="text">
        <small class="form-text text-muted">Your Display Name will show prominently on your profile. (Max 30
          characters)</small>
        <small class="form-text">
          <span *ngIf="displayname.touched && displayname.errors" class="mt-0 mb-1 text-danger">
            <div *ngIf="displayname.errors.required">A Display Name is required.</div>
            <div
              *ngIf="displayname.errors.minlength">Username should be minimum {{displayname.errors.minlength.requiredLength}}
              characters.</div>
            <div *ngIf="displayname.errors.maxlength">Username can be maximum 30 characters.</div>
          </span>
        </small>
      </div>

      <div class="form-group mb-2">
        <label for="InputUsername">Username</label>
        <input (blur)="search($event)" [(ngModel)]="userName" aria-describedby="emailHelp" class="form-control"
               formControlName="username" id="InputUsername" type="text">
        <small class="form-text text-muted">Your username is your unique signature. (Max 15 characters)</small>
        <span *ngIf="username.touched && username.errors" class="mt-0 mb-1 text-danger">
          <small class="form-text">
            <div *ngIf="username.errors.required">A Username is required.</div>
            <div
              *ngIf="username.errors.minlength">Username should be minimum {{username.errors.minlength.requiredLength}}
              characters.</div>
            <div *ngIf="username.errors.cannotContainSpace">Username cannot contain space.</div>
            <div *ngIf="username.errors.maxlength">Username can be maximum 15 characters.</div>
          </small>
        </span>
        <small class="form-text text-danger">
          <div *ngIf="username.touched && isTaken">Username already taken.</div>
        </small>
      </div>

      <div class="form-group mb-2">
        <label for="InputStatus">Status</label>
        <input [(ngModel)]="status" aria-describedby="emailHelp" class="form-control" formControlName="inputstatus"
               id="InputStatus" type="text">
        <small class="form-text text-muted">Tell everyone how you feel. (Max 100 characters)</small>
        <small class="form-text">
          <span *ngIf="inputstatus.touched && inputstatus.errors" class="mt-0 mb-1 text-danger">
            <div *ngIf="inputstatus.errors.required">A status is required.</div>
            <div
              *ngIf="inputstatus.errors.minlength">Status should be minimum {{inputstatus.errors.minlength.requiredLength}}
              characters.</div>
            <div *ngIf="inputstatus.errors.maxlength">Username can be maximum 100 characters.</div>
          </span>
        </small>
      </div>
    </form>
    <div class="row mb-5">
      <div class="form-group pt-4 col-12 col-sm-6 mb-1 align-self-center">
        <input (change)="processImage($event)" accept="image/*" class="inputfile" id="InputPhoto" type="file">
        <label class="mx-0 text-center" for="InputPhoto"><i aria-hidden="true"
                                                            class="fa fa-upload mr-1"></i>{{filename}}</label>
      </div>
      <span class="col-auto p-0 ml-3"><img *ngIf="photoURL" [src]="photoURL" class="circle align-self-center"
                                           id="displayPhoto"></span>
    </div>
  </div>
</div>
